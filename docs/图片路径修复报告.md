# 图片路径修复报告

## 修复背景

项目中的图片引用路径从 `public/images/` 迁移到 `src/assets/images/`，需要更新所有相关的引用方式。

## 修复内容

### 1. 文件结构调整

- **Logo 图片**：移动到 `src/assets/icons/`
- **课程封面图片**：移动到 `src/assets/images/`
- **头像图片**：移动到 `src/assets/images/`
- **轮播图片**：移动到 `src/assets/images/`

### 2. 代码修复

#### 修复的文件：

1. `frontend/src/store/courseStore.ts` - 课程数据中的图片路径
2. `frontend/src/components/Navbar.vue` - 导航栏 Logo
3. `frontend/src/components/HeroCarousel.vue` - 轮播图片
4. `frontend/src/views/HomeView.vue` - 页面中的图片引用
5. `frontend/vite.config.ts` - 路径别名配置

#### 修复方式：

```typescript
// 修复前（错误方式）
cover: '@/assets/images/tiyan-python-cover.jpg'

// 修复后（正确方式）
import tiyanPythonCover from '@/assets/images/tiyan-python-cover.jpg'
cover: tiyanPythonCover
```

### 3. 配置修复

- **Vite 配置**：修复路径别名配置
- **TypeScript 支持**：确保导入方式的类型检查

## 技术原理

### 为什么不能直接使用字符串路径？

1. **Vite 构建优化**：导入的图片会被 Vite 优化（压缩、重命名、缓存处理）
2. **TypeScript 支持**：导入方式提供更好的类型检查
3. **打包正确性**：确保图片在生产环境中正确加载

### Vue 中图片引用的正确方式

```vue
<script setup lang="ts">
// 1. 在script中导入图片
import logoImg from '@/assets/icons/logo.png'
import courseImg from '@/assets/images/tiyan-python-cover.jpg'
</script>

<template>
  <!-- 2. 在template中使用导入的变量 -->
  <img :src="logoImg" alt="UAI Logo" />
  <img :src="courseImg" alt="Python体验课" />
</template>
```

## 验证结果

### 构建测试

- ✅ `npm run build` 成功
- ✅ 所有图片资源被正确打包
- ✅ 生成的文件包含优化后的图片

### 开发测试

- ✅ `npm run dev` 成功启动
- ✅ 页面正常显示
- ✅ 图片正确加载

## 文档更新

### 更新的文档：

1. `frontend/AGENTS.md` - 添加详细的图片资源管理规范
2. `AGENTS.md` - 更新项目总览中的图片管理说明
3. `README.md` - 更新使用规范
4. `docs/图片路径修复报告.md` - 本报告

### 新增规范：

- 图片命名规范
- 目录结构规范
- Vue 组件中的正确引用方式
- 迁移指南

## 最佳实践建议

1. **统一导入方式**：所有图片都使用 `import` 导入
2. **类型安全**：利用 TypeScript 的类型检查
3. **构建优化**：让 Vite 处理图片优化
4. **文档维护**：及时更新相关文档

## 注意事项

1. 新添加的图片必须放在 `src/assets/` 目录下
2. 必须使用 `import` 导入，不能使用字符串路径
3. 所有图片必须提供有意义的 `alt` 属性
4. 定期清理未使用的图片资源

---

**修复完成时间**：2025-01-22
**修复状态**：✅ 完成
**测试状态**：✅ 通过
